<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - PRIMEURO Orders</title>
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <section class="admin-section">
        <div class="container">
            <!-- Dashboard Header -->
            <div class="dashboard-header">
                <h1 class="dashboard-title">PRIMEURO Admin Panel</h1>
                <div class="dashboard-actions">
                    <button class="btn-refresh" onclick="loadOrders()">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/>
                            <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/>
                        </svg>
                        Refresh
                    </button>
                </div>
            </div>

            <!-- Analytics Grid -->
            <div class="analytics-grid">
                <div class="analytics-card">
                    <div class="analytics-icon" style="background: rgba(0, 102, 255, 0.1); color: #0066ff;">
                        <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"/>
                        </svg>
                    </div>
                    <div class="analytics-content">
                        <div class="analytics-label">Total Orders</div>
                        <div class="analytics-value" id="totalOrders">0</div>
                    </div>
                </div>

                <div class="analytics-card">
                    <div class="analytics-icon" style="background: rgba(255, 193, 7, 0.1); color: #ffc107;">
                        <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </div>
                    <div class="analytics-content">
                        <div class="analytics-label">Pending Orders</div>
                        <div class="analytics-value" id="pendingOrders">0</div>
                    </div>
                </div>

                <div class="analytics-card">
                    <div class="analytics-icon" style="background: rgba(76, 175, 80, 0.1); color: #4caf50;">
                        <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
                        </svg>
                    </div>
                    <div class="analytics-content">
                        <div class="analytics-label">Total Revenue</div>
                        <div class="analytics-value" id="totalRevenue">â‚¬0</div>
                    </div>
                </div>
            </div>

            <!-- Filter Tabs -->
            <div class="filter-tabs">
                <button class="filter-tab active" data-status="all" onclick="filterByStatus('all')">All Orders</button>
                <button class="filter-tab" data-status="pending" onclick="filterByStatus('pending')">Pending</button>
                <button class="filter-tab" data-status="completed" onclick="filterByStatus('completed')">Completed</button>
                <button class="filter-tab" data-status="canceled" onclick="filterByStatus('canceled')">Canceled</button>
            </div>

            <!-- Orders Container -->
            <div class="orders-container">
                <div class="orders-header">
                    <h2>Recent Orders</h2>
                    <span class="orders-count" id="ordersCount">0 orders</span>
                </div>
                <div id="ordersContainer" class="orders-list">
                    <div class="loading-state">
                        <div class="loading-spinner"></div>
                        <p>Loading orders...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Order Details Modal -->
    <div id="orderModal" class="modal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Order Details</h2>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <!-- Application Scripts -->
    <script src="firebase-config.js"></script>
    <script src="admin-script.js"></script>
</body>
</html>